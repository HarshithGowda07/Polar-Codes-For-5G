function crc = crc11(msg_bits)
% CRC-11 polynomial used in some standards: x^11 + x^9 + 1 (example)
poly = bin2dec('101000000001'); % placeholder; replace with standard (if required)
reg = 0;
for i=1:length(msg_bits)
    bit = msg_bits(i);
    msb = bitxor(bit, bitget(reg,11));
    reg = bitshift(reg,1);
    if msb
        reg = bitxor(reg, poly);
    end
    reg = bitand(reg, 2^11-1);
end
crc = zeros(1,11);
for i=1:11
    crc(i) = bitget(reg, 12-i);
end
end
